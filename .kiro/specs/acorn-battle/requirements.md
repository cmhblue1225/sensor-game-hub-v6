# Requirements Document

## Introduction

도토리 배틀(Acorn Battle)은 2명의 플레이어가 모바일 기기의 센서를 사용하여 경쟁하는 실시간 액션 게임입니다. 플레이어들은 기기를 기울여 캐릭터를 조작하며, 맵에 흩어진 도토리를 수집하고 자신의 점수 구역에 가져다 놓아 점수를 획득합니다. 상대방의 도토리를 훔치거나 움직이는 장애물을 피하는 전략적 요소가 포함된 흥미진진한 게임입니다.

## Requirements

### Requirement 1

**User Story:** 플레이어로서, 모바일 기기를 기울여 게임 내 캐릭터를 자유롭게 조작하고 싶습니다.

#### Acceptance Criteria

1. WHEN 플레이어가 기기를 좌우로 기울이면(orientation.gamma) THEN 캐릭터가 해당 방향으로 이동해야 합니다
2. WHEN 플레이어가 기기를 앞뒤로 기울이면(orientation.beta) THEN 캐릭터가 상하 방향으로 이동해야 합니다
3. WHEN 센서 데이터가 수신되면 THEN 캐릭터의 이동 속도는 기울기 각도에 비례해야 합니다
4. WHEN 기기가 수평 상태이면 THEN 캐릭터는 정지 상태를 유지해야 합니다

### Requirement 2

**User Story:** 플레이어로서, 맵에 흩어진 도토리를 수집하여 점수를 획득하고 싶습니다.

#### Acceptance Criteria

1. WHEN 게임이 시작되면 THEN 맵에 8개의 도토리가 랜덤하게 배치되어야 합니다
2. WHEN 게임이 진행되면 THEN 5초마다 새로운 도토리가 1개씩 생성되어 총 15개(초기 8개 + 추가 7개)까지 존재할 수 있어야 합니다
3. WHEN 총 15개의 도토리가 모두 생성되면 THEN 더 이상 새로운 도토리가 생성되지 않아야 합니다
3. WHEN 플레이어 캐릭터가 도토리와 충돌하면 THEN 도토리를 주워들고 캐릭터 위에 표시되어야 합니다
4. WHEN 플레이어가 도토리를 들고 있는 상태에서 자신의 점수 구역에 도달하면 THEN 도토리가 점수 구역에 저장되고 점수가 증가해야 합니다
5. WHEN 플레이어가 한 번에 들 수 있는 도토리는 THEN 최대 1개로 제한되어야 합니다

### Requirement 3

**User Story:** 플레이어로서, 상대방의 점수 구역에서 도토리를 훔쳐와 전략적 우위를 점하고 싶습니다.

#### Acceptance Criteria

1. WHEN 플레이어가 상대방의 점수 구역에 도달하고 도토리가 저장되어 있으면 THEN 도토리를 훔쳐올 수 있어야 합니다
2. WHEN 플레이어가 상대방의 도토리를 훔치면 THEN 상대방의 점수가 감소하고 플레이어가 도토리를 들고 있는 상태가 되어야 합니다
3. WHEN 플레이어가 이미 도토리를 들고 있는 상태이면 THEN 상대방의 도토리를 훔칠 수 없어야 합니다
4. WHEN 도토리를 훔친 후 THEN 플레이어는 자신의 점수 구역으로 가져가야 점수를 획득할 수 있어야 합니다

### Requirement 4

**User Story:** 플레이어로서, 움직이는 장애물을 피하면서 전략적으로 게임을 플레이하고 싶습니다.

#### Acceptance Criteria

1. WHEN 게임이 시작되면 THEN 맵에 2-3개의 움직이는 장애물이 배치되어야 합니다
2. WHEN 장애물이 맵 경계에 도달하면 THEN 반대 방향으로 이동 방향을 바꿔야 합니다
3. WHEN 플레이어가 장애물과 충돌하면 THEN 들고 있던 도토리를 떨어뜨려야 합니다
4. WHEN 도토리가 떨어지면 THEN 맵의 랜덤한 위치에 다시 배치되어야 합니다
5. WHEN 플레이어가 장애물과 충돌하면 THEN 0.5초간 기절 상태가 되어 움직일 수 없어야 합니다
6. WHEN 기절 상태가 끝나면 THEN 플레이어가 잠시 무적 상태가 되어 연속 충돌을 방지해야 합니다

### Requirement 5

**User Story:** 플레이어로서, 실시간으로 게임 상황을 파악하고 경쟁할 수 있는 UI를 원합니다.

#### Acceptance Criteria

1. WHEN 게임이 진행되면 THEN 각 플레이어의 현재 점수가 실시간으로 표시되어야 합니다
2. WHEN 게임이 진행되면 THEN 남은 게임 시간이 카운트다운으로 표시되어야 합니다
3. WHEN 플레이어가 도토리를 들고 있으면 THEN 캐릭터 위에 도토리 아이콘이 표시되어야 합니다
4. WHEN 두 플레이어가 모두 연결되면 THEN 각 플레이어의 연결 상태가 표시되어야 합니다
5. WHEN 게임이 종료되면 THEN 승자와 최종 점수가 표시되어야 합니다

### Requirement 6

**User Story:** 플레이어로서, 안정적인 멀티플레이어 게임 세션에 참여하고 싶습니다.

#### Acceptance Criteria

1. WHEN 게임 호스트가 세션을 생성하면 THEN QR 코드와 세션 코드가 생성되어야 합니다
2. WHEN 두 번째 플레이어가 세션에 참여하면 THEN 게임 시작 버튼이 활성화되어야 합니다
3. WHEN 게임 시작 버튼을 클릭하면 THEN 게임이 시작되어야 합니다
4. WHEN 플레이어가 연결이 끊어지면 THEN 게임이 일시정지되고 재연결을 기다려야 합니다
5. WHEN 게임이 진행 중이면 THEN 센서 데이터가 실시간으로 동기화되어야 합니다
6. WHEN 게임이 종료되고 재시작 버튼을 클릭하면 THEN 기존 세션을 유지하며 새 게임이 시작되어야 합니다
7. WHEN 창을 닫거나 새로고침하면 THEN 새로운 세션에 연결해야 합니다

### Requirement 7

**User Story:** 플레이어로서, 명확한 게임 규칙과 제한 시간 내에서 공정한 경쟁을 하고 싶습니다.

#### Acceptance Criteria

1. WHEN 게임이 시작되면 THEN 1분의 제한 시간이 설정되어야 합니다
2. WHEN 제한 시간이 종료되면 THEN 더 많은 점수를 획득한 플레이어가 승리해야 합니다
3. WHEN 점수가 동점이면 THEN 무승부로 처리되어야 합니다
4. WHEN 게임 중 THEN 각 플레이어는 자신의 점수 구역과 상대방의 점수 구역을 명확히 구분할 수 있어야 합니다
5. WHEN 게임이 진행되면 THEN 맵에는 항상 최소 3개의 도토리가 존재해야 합니다