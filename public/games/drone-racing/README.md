# 🚁 3D 드론 레이싱

미래적인 네온 도시에서 펼쳐지는 몰입감 넘치는 3D 드론 경주 게임입니다.

## 🎮 게임 소개

센서 기반 조작으로 드론을 직접 조종하며, 화려한 부스터 효과와 함께 상대방과 경쟁하는 듀얼 플레이어 레이싱 게임입니다.

### 주요 특징
- 🚁 **직관적인 센서 조작**: 휴대폰 기울기로 드론을 자유자재로 조종
- 🌃 **네온 도시 환경**: 미래적이고 화려한 3D 도시 배경
- 🚀 **부스터 시스템**: 전략적인 부스터 사용으로 승부 결정
- ⚡ **실시간 경쟁**: 2명의 플레이어가 동시에 경주
- 🏁 **체크포인트 시스템**: 3랩 완주를 통한 승부 결정

## 🎯 게임 방법

### 연결 방법
1. 게임 화면의 QR 코드를 스캔하거나 세션 코드를 입력
2. 두 명의 플레이어가 각각 모바일 기기로 연결
3. 모든 플레이어 연결 완료 후 자동으로 게임 시작

### 조작 방법
- **좌우 기울기**: 드론 회전 (좌/우 회전)
- **앞으로 기울기**: 가속 (전진)
- **뒤로 기울기**: 감속 (후진)
- **휴대폰 흔들기**: 부스터 활성화

### 게임 규칙
- 체크포인트를 순서대로 통과하며 3랩 완주
- 부스터 에너지를 전략적으로 사용
- 부스터 충전 구역에서 에너지 보충 가능
- 먼저 3랩을 완주하는 플레이어가 승리

## 🛠️ 기술 스택

### 프론트엔드
- **Three.js**: 3D 렌더링 및 그래픽
- **Cannon.js**: 물리 엔진 및 충돌 처리
- **SessionSDK**: 센서 게임 허브 통합
- **WebGL**: 하드웨어 가속 3D 렌더링

### 센서 API
- **DeviceOrientationEvent**: 기기 기울기 감지
- **DeviceMotionEvent**: 기기 움직임 및 흔들기 감지

### 성능 최적화
- 적응형 품질 관리 (Low/Medium/High)
- 센서 데이터 throttling (50ms 간격)
- 파티클 시스템 최적화
- 메모리 관리 및 가비지 컬렉션

## 📱 지원 환경

### 데스크톱 브라우저
- ✅ Chrome 120+
- ✅ Firefox 120+
- ✅ Safari 17+
- ✅ Edge 120+

### 모바일 브라우저
- ✅ Chrome Mobile
- ✅ Safari Mobile (iOS 13+)
- ✅ Samsung Internet
- ⚠️ iOS Safari (센서 권한 요청 필요)

### 성능 요구사항
- **최소**: WebGL 지원, 2GB RAM
- **권장**: 4GB RAM, 60fps 지원 GPU
- **센서**: 자이로스코프, 가속도계 필수

## 🚀 성능 특징

### 렌더링 성능
- **데스크톱**: 60fps 안정 유지
- **모바일**: 45-60fps (디바이스별 차이)
- **메모리 사용량**: 평균 120-150MB

### 센서 응답성
- **응답 시간**: 평균 35-45ms
- **데이터 처리**: 50ms 간격 throttling
- **정확도**: 고정밀 기울기 감지

## 🎨 시각 효과

### 3D 그래픽
- 실시간 그림자 및 조명
- 파티클 시스템 (부스터, 폭발, 트레일)
- 네온 조명 애니메이션
- 화면 분할 듀얼 카메라

### UI/UX
- 실시간 HUD (속도, 랩, 순위, 부스터)
- 부스터 에너지 시각화
- 체크포인트 통과 효과
- 승리 애니메이션

## 🔧 개발자 정보

### 디버그 기능
- **F12**: 성능 모니터링 패널 토글
- **Ctrl+P**: 성능 통계 콘솔 출력
- **키보드 모드**: WASD + 스페이스바 테스트

### 성능 모니터링
- 실시간 FPS 표시
- 메모리 사용량 추적
- 파티클 수 모니터링
- 품질 설정 실시간 조정

## 📋 파일 구조

```
drone-racing/
├── index.html          # 메인 게임 페이지
├── game.json          # 게임 메타데이터
├── css/
│   └── style.css      # 게임 스타일시트
├── js/
│   ├── game.js        # 메인 게임 로직
│   ├── drone.js       # 드론 클래스
│   ├── physics.js     # 물리 엔진
│   ├── effects.js     # 시각 효과
│   ├── ui.js          # UI 시스템
│   ├── gameState.js   # 게임 상태 관리
│   ├── performance.js # 성능 최적화
│   └── bugfixes.js    # 버그 수정
├── libs/
│   ├── three.min.js   # Three.js 라이브러리
│   └── cannon.min.js  # Cannon.js 라이브러리
├── assets/
│   ├── models/        # 3D 모델 (향후 확장)
│   ├── sounds/        # 사운드 파일 (향후 확장)
│   └── textures/      # 텍스처 파일 (향후 확장)
└── tests/
    ├── *.test.js      # 단위 테스트
    └── test-runner.html # 테스트 실행기
```

## 🐛 알려진 이슈

### iOS Safari
- 센서 사용을 위해 사용자 상호작용 후 권한 요청 필요
- 해결방안: 게임 시작 시 자동으로 권한 요청

### 저사양 디바이스
- 일부 구형 모바일 디바이스에서 성능 저하 가능
- 해결방안: 자동 품질 조정 시스템 적용

### 네트워크 지연
- 느린 네트워크에서 센서 데이터 지연 가능
- 해결방안: 로컬 예측 및 보간 로직 구현

## 📈 향후 계획

### 단기 (1-2주)
- [ ] iOS 센서 권한 UI 개선
- [ ] 게임 설정 저장 기능
- [ ] 추가 사운드 효과

### 중기 (1-2개월)
- [ ] AI 상대 모드
- [ ] 커스텀 트랙 에디터
- [ ] 리플레이 시스템

### 장기 (3-6개월)
- [ ] VR/AR 지원
- [ ] 온라인 토너먼트
- [ ] 드론 커스터마이징

## 📞 지원

문제가 발생하거나 개선 제안이 있으시면 게임 허브 관리자에게 문의해주세요.

---

**버전**: 1.0.0  
**최종 업데이트**: 2025-01-18  
**개발팀**: Drone Racing Team  
**라이선스**: MIT License